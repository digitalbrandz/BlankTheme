{% style %}
  
   #shopify-section-{{ section.id }} .feature-row .feature-row__item.main  {
    flex: 0 1 {{ section.settings.width }}%;
    line-height: 0;
   }
   {% if section.settings.background != blank %}
     #shopify-section-{{ section.id }} {
     overflow: hidden; 
     background-size: cover;
     background-position: center;
      background-image:url({{ section.settings.background | img_url: '1024x1024' }});
     }
   {% endif %}

   {% if section.settings.layout_mobile == 'bottom' %}
   @media (max-width:960px) {
     #shopify-section-{{ section.id }} .feature-row {
           flex-flow: column-reverse;
     }
  }
 {% endif %}
  {% for block in section.blocks %}
  {% case block.type %}
    {% when 'Image' %}
        #block-{{ block.id }} > * {
         width:{{ block.settings.width }}%;
       }
    {% when 'Button' %} 
       #block-{{ block.id }} > * {
         background-color:{{ block.settings.background }};
         color:{{ block.settings.color }};
       }
 {% when 'Text' %} 
      #block-{{ block.id }} {
        color:{{ block.settings.color }};
      }

     #block-{{ block.id }} .featured-row__subtext {
      text-align:{{ block.settings.layout }};
     }
    {% endcase %}
       #block-{{ block.id }} {
         margin-top:{{ block.settings.topposition }}px;
         margin-bottom:{{ block.settings.bottomposition }}px;
      {% unless block.type == 'HTML' %}
         text-align:{{ block.settings.layout }};
      {% endunless %}
        }
{% endfor %} 

{% if section.settings.css != nil %}
{% assign css = section.settings.css | replace: '&gt;','>' %}
{{ css }}
{% endif %}
{% endstyle %}

{% if section.settings.divider %}<div class="section--divider">{% endif %}

<div class="page-width">
  {% capture image_layout %}
   {% unless section.settings.mp4 != blank %}
    <div class="feature-row__item main"   {% if section.settings.layout == 'right' %} data-aos="fade-left" {% else %}data-aos="fade-right" {% endif %} data-aos-duration="700"
    data-aos-easing="ease-out-cubic">
      <div style="margin: 0 auto; max-width: {{ section.settings.image_width }}px;">
        {% if section.settings.image != blank %}
          {% if section.settings.button_label != blank and section.settings.button_link != blank %}<a href="{{ section.settings.button_link }}">{% endif %}
          <div class="image-wrap" style="height: 0; padding-bottom: {{ 100 | divided_by: section.settings.image.aspect_ratio }}%;">
            {%- assign img_url = section.settings.image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
            <img class="feature-row__image lazyload"
                data-src="{{ img_url }}"
                data-widths="[180, 360, 540, 720, 900, 1080]"
                data-aspectratio="{{ section.settings.image.aspect_ratio }}"
                data-sizes="auto"
                alt="{{ section.settings.image.alt }}">
          </div>
          {% if section.settings.button_label != blank and section.settings.button_link != blank %}</a>{% endif %}
        {% else %}
          <div class="image-wrap">
            {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
          </div>
        {% endif %}
      </div>
    </div>
   {% else %}
    <div style="margin: 0 auto;">
    <div class="feature-row__item main"   {% if section.settings.layout == 'right' %} data-aos="fade-left" {% else %}data-aos="fade-right" {% endif %} data-aos-duration="700"
    data-aos-easing="ease-out-cubic">  
         {% if section.settings.youtube_url != blank %}
<a data-fancybox href="{{ section.settings.youtube_url }}">
<svg width="191pt" height="237pt" viewBox="0 0 191 237" version="1.1" xmlns="http://www.w3.org/2000/svg">
<g id="#ffffffff">
<path fill="#ffffff" opacity="1.00" d=" M 0.00 17.29 C 3.39 11.70 5.92 5.56 9.93 0.37 C 14.29 1.91 18.13 4.53 22.18 6.70 C 73.89 35.35 125.62 63.98 177.35 92.60 C 184.64 96.80 190.00 104.52 190.60 113.01 C 191.28 119.32 189.82 125.85 186.18 131.09 C 182.75 136.45 176.84 139.25 171.85 142.87 C 129.49 171.52 87.05 200.07 44.72 228.78 C 40.61 231.52 36.57 234.67 31.68 235.89 C 25.12 237.48 17.79 236.74 12.07 232.97 C 6.12 229.52 2.33 223.60 0.00 217.28 L 0.00 74.20 C 7.19 74.04 14.42 73.65 21.60 74.28 C 21.82 119.19 21.65 164.12 21.67 209.04 C 21.72 211.20 21.97 213.38 22.71 215.42 C 25.48 216.49 27.96 214.54 30.14 213.11 C 74.05 183.32 118.06 153.68 162.02 123.97 C 164.73 122.12 167.75 119.61 167.58 115.99 C 167.43 111.91 163.65 109.45 160.45 107.65 C 106.98 78.02 53.55 48.31 0.00 18.82 L 0.00 17.29 Z" />
</g>
</svg>
         </a>
         {% else %}
         <span class="mute"> Tap for sound</span>   
         {% endif %}
         <video playsinline="" autoplay="" preload="auto" loop="loop" muted="muted" onclick="event.preventDefault();">
            <source src="{{ section.settings.mp4 }}" type="video/mp4">
         </video>
    </div>
  </div>
   {% endunless %}
  {% endcapture %}

  <div class="feature-row" data-aos>
    {% if section.settings.layout == 'left' %}
      {{ image_layout }}
    {% endif %}

    <div class="feature-row__item feature-row__text feature-row__text--{{ section.settings.layout }}">
      {% assign delay = 400 %}
      {% for block in section.blocks %}
       {% case block.type %}
        {% when 'Image' %}
      
      
        {% if block.settings.image != blank %}
          {% if block.settings.link != blank %}<a href="{{ block.settings.link }}">{% endif %}
          <div data-aos-delay="{{ delay }}" {% if section.settings.layout == 'right' %} data-aos="fade-right"  {% else %}data-aos="fade-left" {% endif %} data-aos-duration="700"
    data-aos-easing="ease-out-cubic" id="block-{{ block.id }}" class="image-wrap" style="height: 0; padding-bottom: {{ 100 | divided_by: block.settings.image.aspect_ratio }}%;">
            {%- assign img_url = block.settings.image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
            <img class="feature-row__image lazyload"
                data-src="{{ img_url }}"
                data-widths="[180, 360, 540, 720, 900, 1080]"
                data-aspectratio="{{ block.settings.image.aspect_ratio }}"
                data-sizes="auto"
                alt="{{ block.settings.image.alt }}">
          </div>
          {% if block.settings.link != blank %}</a>{% endif %}
        {% else %}
          <div data-aos-delay="{{ delay }}" {% if section.settings.layout == 'right' %} data-aos="fade-right"  {% else %}data-aos="fade-left" {% endif %} data-aos-duration="700"
    data-aos-easing="ease-out-cubic"  class="image-wrap">
            {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
          </div>
        {% endif %}
      
        {% when 'Button' %} 
         <div data-aos-delay="{{ delay }}" {% if section.settings.layout == 'right' %} data-aos="fade-right"  {% else %}data-aos="fade-left" {% endif %} data-aos-duration="700"
    data-aos-easing="ease-out-cubic"  id="block-{{ block.id }}">
            <a class="btn" href="{{ block.settings.link }}" >{{ block.settings.label }}</a>
         </div>  
        {% when 'Text' %}  
         <div data-aos-delay="{{ delay }}" {% if section.settings.layout == 'right' %} data-aos="fade-right"  {% else %}data-aos="fade-left" {% endif %} data-aos-duration="700"
    data-aos-easing="ease-out-cubic"  id="block-{{ block.id }}">
          <div class="rte featured-row__subtext">{{ block.settings.text }}</div>
         </div>        
        {% when 'HTML' %}  
        <div data-aos-delay="{{ delay }}" {% if section.settings.layout == 'right' %} data-aos="fade-right"  {% else %}data-aos="fade-left" {% endif %} data-aos-duration="700"
    data-aos-easing="ease-out-cubic"  id="block-{{ block.id }}">
          {{ block.settings.html }}
        </div>  
      
        {% endcase %}
        {% assign delay = delay | plus: 200 %}
      {% endfor %} 
      
    </div>

    {% if section.settings.layout == 'right' %}
      {{ image_layout }}
    {% endif %}
  </div>
</div>

{% if section.settings.divider %}</div>{% endif %}


{% schema %}

  {
    "name": "Media With Content",
    "class": "media-with-content",
    "settings": [
{
 "type": "header",
 "content": "Choose Media Type"
},
{
       "id": "image",
       "type": "image_picker",
       "label": "Image"
},
{
       "id": "mp4",
       "type": "url",
       "label": "mp4"
},
{
"id": "youtube_url",
"type": "video_url",
"accept": ["youtube"],
"label": "Youtube URL",
"info": "If left empty mute button will be shown instead for on page playback with sound"
},
{
 "type": "header",
 "content": "Media Settings"
},
 {
    "type":   "range",
    "id":     "width",
    "min":       10,
    "max":       100,
    "step":     1,
    "unit":      "%",
    "label":     "Width",
    "default":   50
     }, 
{
   "type":      "radio",
   "id":        "layout",
   "label":     "Alignment",
   "options": [
     { "value": "left", "label": "Left" },
     { "value": "right", "label": "Right" }
   ],
   "default":   "left"
},
{
   "type":      "radio",
   "id":        "layout_mobile",
   "label":     "Mobile Alignment",
   "options": [
     { "value": "top", "label": "Top" },
     { "value": "bottom", "label": "Bottom" }
   ],
   "default":   "top"
},
{
       "id": "background",
       "type": "image_picker",
       "label": "Background Image"
},
{
 "type": "header",
 "content": "Additional Custom CSS"
},
{
        "id": "css",
        "type": "html",
        "label": "Custom CSS"
}],"blocks": [
    {
     "type": "Image",
     "name": "Image",
     "settings" : [
{
       "id": "image",
       "type": "image_picker",
       "label": "Image"
},
{
        "id": "link",
        "type": "url",
        "label": "Link"
},
  {
    "type":   "range",
    "id":     "width",
    "min":       10,
    "max":       100,
    "step":     1,
    "unit":      "%",
    "label":     "Width",
    "default":   100
     },
{
   "type":      "radio",
   "id":        "layout",
   "label":     "Alignment",
   "options": [
     { "value": "center", "label": "Center" },
     { "value": "left", "label": "Left" },
     { "value": "right", "label": "Right" }
   ],
   "default":   "center"
},
      {
    "type":   "range",
    "id":     "topposition",
    "min":       0,
    "max":       60,
    "step":     1,
    "unit":      "px",
    "label":     "Position from Top",
    "default":   15
     },
     {
    "type":   "range",
    "id":     "bottomposition",
    "min":       0,
    "max":       60,
    "step":     1,
    "unit":      "px",
    "label":     "Position from Bottom",
    "default":   15
     }]
},
 {
     "type": "Button",
     "name": "Button",
     "settings" : [
{
       "id": "link",
       "type": "url",
       "label": "Link"
},
{
       "id": "label",
       "type": "text",
       "label": "Label",
       "default": "Click Here"
},
{
       "id": "color",
       "type": "color",
       "label": "Color",
       "default": "#ffffff"
},
{
       "id": "background",
       "type": "color",
       "label": "Background Color",
       "default": "#000000"
},
{
   "type":      "radio",
   "id":        "layout",
   "label":     "Alignment",
   "options": [
     { "value": "center", "label": "Center" },
     { "value": "left", "label": "Left" },
     { "value": "right", "label": "Right" }
   ],
   "default":   "center"
},
      {
    "type":   "range",
    "id":     "topposition",
    "min":       0,
    "max":       60,
    "step":     1,
    "unit":      "px",
    "label":     "Position from Top",
    "default":   15
     },
     {
    "type":   "range",
    "id":     "bottomposition",
    "min":       0,
    "max":       60,
    "step":     1,
    "unit":      "px",
    "label":     "Position from Bottom",
    "default":   15
     }]
},
 {
     "type": "Text",
     "name": "Text",
     "settings" : [
{
       "id": "text",
       "type": "richtext",
       "label": "Text"
},
{
       "id": "color",
       "type": "color",
       "label": "Color",
       "default": "#000000"
},
{
   "type":      "radio",
   "id":        "layout",
   "label":     "Alignment",
   "options": [
     { "value": "center", "label": "Center" },
     { "value": "left", "label": "Left" },
     { "value": "right", "label": "Right" }
   ],
   "default":   "center"
},
      {
    "type":   "range",
    "id":     "topposition",
    "min":       0,
    "max":       60,
    "step":     1,
    "unit":      "px",
    "label":     "Position from Top",
    "default":   15
     },
     {
    "type":   "range",
    "id":     "bottomposition",
    "min":       0,
    "max":       60,
    "step":     1,
    "unit":      "px",
    "label":     "Position from Bottom",
    "default":   15
     }]
},
 {
     "type": "HTML",
     "name": "HTML (Advanced)",
     "settings" : [
{
       "id": "html",
       "type": "html",
       "label": "HTML"
},
      {
    "type":   "range",
    "id":     "topposition",
    "min":       0,
    "max":       60,
    "step":     1,
    "unit":      "px",
    "label":     "Position from Top",
    "default":   15
     },
     {
    "type":   "range",
    "id":     "bottomposition",
    "min":       0,
    "max":       60,
    "step":     1,
    "unit":      "px",
    "label":     "Position from Bottom",
    "default":   15
     }]
}
],
  "presets": [
    {
      "name": "Media With Content",
      "category": "z Designer"
    }
  ]
  }
{% endschema %}

{% stylesheet 'scss' %}

{% endstylesheet %}

{% javascript %}

{% endjavascript %}                                                  
